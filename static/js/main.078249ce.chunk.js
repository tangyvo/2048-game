(this["webpackJsonp2048-game"]=this["webpackJsonp2048-game"]||[]).push([[0],{13:function(e,t,r){},14:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),c=r(6),o=r.n(c),i=(r(13),r(7)),u=r(1),l=r(2),s=function(e){var t=e.gameover,r=e.score;return a.a.createElement("div",{className:t?"gameover show":"gameover"},a.a.createElement("p",null,r>=2048?"You've won":"No more moves"))},f=function(e){var t=e.score,r=e.bestScore,n=e.init;return a.a.createElement(a.a.Fragment,null,a.a.createElement("header",null,a.a.createElement("div",{className:"logo"},a.a.createElement("p",null,"2048")),a.a.createElement("div",{className:"header-info-section"},a.a.createElement("div",{className:"score"},a.a.createElement("p",null,"score"),a.a.createElement("p",null,t)),a.a.createElement("div",{className:"best"},a.a.createElement("p",null,"Best"),a.a.createElement("p",null,r)),a.a.createElement("button",{className:"btn btn-reset",onClick:n},"Reset"))),a.a.createElement("div",{className:"instructions"},a.a.createElement("strong",null,"How to play: "),"Press the up, down, right or left arrow keys to move the tiles. When 2 same tiles touch they merge into one. Reach 2048 to win."))},m=function(e){var t=e.grid,r=e.id;return a.a.createElement("main",{className:"grid"},t.join(",").split(",").map((function(e,t){return a.a.createElement("div",{className:"colour-".concat(e," ").concat(t===r?"newBlock":""),key:t},"0"===e?"":e)})))};var v=function(){var e=Object(n.useState)(0),t=Object(l.a)(e,2),r=t[0],c=t[1],o=Object(n.useState)(0),v=Object(l.a)(o,2),b=v[0],d=v[1],E=Object(n.useState)(0),O=Object(l.a)(E,2),j=O[0],p=O[1],g=Object(n.useState)(!1),h=Object(l.a)(g,2),w=h[0],N=h[1],y=Object(n.useState)(!1),S=Object(l.a)(y,2),k=S[0],M=S[1],A=Object(n.useState)(),J=Object(l.a)(A,2),B=J[0],I=J[1],L=Object(n.useState)([[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]]),R=Object(l.a)(L,2),x=R[0],C=R[1];Object(n.useEffect)((function(){c(localStorage.getItem("2048-best-score")),F()}),[]),Object(n.useEffect)((function(){for(var e=Object(u.a)(x),t=!1;!t;){var r=Math.floor(4*Math.random()),n=Math.floor(4*Math.random());0===e[r][n]&&(e[r][n]=j,D(r,n),t=!0,H())}C(e)}),[k]);var D=function(e,t){I(4*e+t)},F=function(){M((function(e){return!0!==e}));var e=Math.round(Math.random());p([2,4][e])},H=function(){var e=0;x.map((function(t){return e+=t.reduce((function(e,t){return e+Number(t)}),0)})),d(e)},P=function(e){var t=JSON.parse(JSON.stringify(Object(u.a)(x)));if("ArrowUp"===e.key)!function(){for(var e=Object(u.a)(x),t=function(t){var r=[0,1,2,3].map((function(r){return e[r][t]})).filter((function(e){return e>0}));r=W(r);for(var n=0;n<4;n++)e[n][t]=void 0!==r[n]?r[n]:0},r=0;r<4;r++)t(r);C(e)}();else if("ArrowDown"===e.key)!function(){for(var e=Object(u.a)(x),t=function(t){var r=[3,2,1,0].map((function(r){return e[r][t]})).filter((function(e){return e>0}));r=W(r);for(var n=0;n<4;n++)e[n][t]=void 0!==r[3-n]?r[3-n]:0},r=0;r<4;r++)t(r);C(e)}();else if("ArrowLeft"===e.key)!function(){for(var e=Object(u.a)(x),t=0;t<4;t++){var r=e[t].filter((function(e){return e>0}));r=W(r);for(var n=0;n<4;n++)e[t][n]=void 0!==r[n]?r[n]:0}C(e)}();else{if("ArrowRight"!==e.key)return;!function(){for(var e=Object(u.a)(x),t=0;t<4;t++){var r=e[t].filter((function(e){return e>0}));r=W(r).reverse();for(var n=0;n<4;n++)e[t][n]=void 0!==r[3-n]?r[3-n]:0}C(e)}()}for(var r=!1,n=0;n<4;n++)for(var a=0;a<4;a++)t[n][a]!==x[n][a]&&(r=!0);r&&(F(),H())};Object(n.useEffect)((function(){U()}),[x]);var U=function(){var e,t=0,n=Object(i.a)(x);try{for(n.s();!(e=n.n()).done;){t+=e.value.filter((function(e){return 0!==e})).length}}catch(l){n.e(l)}finally{n.f()}if(16===t){for(var a=!0,o=0;o<=3;o++)for(var u=0;u<=3;u++)3===o?x[o][u]===x[o][u+1]&&(a=!1):3===u?x[o][u]===x[o+1][u]&&(a=!1):x[o][u]!==x[o+1][u]&&x[o][u]!==x[o][u+1]||(a=!1);a&&(N(!0),b>r&&(localStorage.setItem("2048-best-score",b),c(b)))}},W=function(e){for(var t=Object(u.a)(e),r=0;r<e.length-1;r++)t[r]===t[r+1]&&(t[r]=2*e[r],t.splice(r+1,1));return t};return Object(n.useEffect)((function(){if(!w)return window.addEventListener("keydown",P),function(){window.removeEventListener("keydown",P)}})),a.a.createElement("div",{className:"app"},a.a.createElement(f,{score:b,bestScore:r,init:function(){C([[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]]),F(),d(j),N(!1)}}),a.a.createElement(s,{className:"gameover",gameover:w,score:b}),a.a.createElement(m,{grid:x,id:B}))};o.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(v,null)),document.getElementById("root"))},8:function(e,t,r){e.exports=r(14)}},[[8,1,2]]]);
//# sourceMappingURL=main.078249ce.chunk.js.map